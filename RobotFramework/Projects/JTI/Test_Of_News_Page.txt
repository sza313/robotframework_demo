*** Settings ***
Suite Setup       Setup Test Environment
Resource          Keywords/functionalKeywords.robot

*** Test Cases ***
Log In
    Log In    ${test user 1 name}    ${test user 1 pwd}

Navigate To News Page
    [Documentation]    Click News button from Top menu
    ...    Expected - Engage site loaded
    Click Main Menu Item    News
    Location Should Be    ${news page url}

Check My News Popup
    Check My News Popup
    Click Button With Text    Close
    Wait Until Element Is Not Visible    //div[@id="modal_editmyNews"]

Count Number Of Articles
    Page Should Contain Element    ${article item}    \    \    10

Load Articles With Infinite Scroll
    Load Articles With Infinite Scroll

Test My News
    Click Sidebar Nav Link    My news
    Wait Until Page Contains Element    ${main content}//*[contains(text(),"My news")]
    Filter By Tags
    Filter By Filters    ${main content}
    Clear Filters    ${main content}

Test All News
    Click Sidebar Nav Link    All news
    Comment    Wait Until Page Contains Element    ${main content}//*[contains(text(),"All news")]
    Filter By Tags
    Filter By Filters    ${main content}
    Clear Filters    ${main content}

Test Corporate News
    Click Sidebar Nav Link    Corporate news
    Comment    Wait Until Page Contains Element    ${main content}//*[contains(text(),"My news")]
    Filter By Tags
    Filter By Filters    ${main content}
    Clear Filters    ${main content}

Test Announcements
    Click Sidebar Nav Link    Announcements
    Comment    Wait Until Page Contains Element    ${main content}//*[contains(text(),"My news")]
    Filter By Tags
    Filter By Filters    ${main content}
    Clear Filters    ${main content}

Test Jobs
    Click Sidebar Nav Link    Jobs
    Wait Until Page Contains Element    //a[@role="tab" and text()="Job search"]
    Wait Until Page Contains Element    //a[@role="tab" and text()="Candidate"]
    Click Element    //a[@role="tab" and text()="Candidate"]
    Wait Until Page Contains Element    //a[@role="tab" and text()="Job alert"]
    Click Element    //a[@role="tab" and text()="Job alert"]
