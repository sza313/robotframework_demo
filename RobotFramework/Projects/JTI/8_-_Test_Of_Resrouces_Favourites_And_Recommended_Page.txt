*** Settings ***
Suite Setup       Setup Test Environment
Suite Teardown    Close Browser
Resource          Keywords/functionalKeywords.robot

*** Test Cases ***
Log In
    [Documentation]    Log into the application with given credentials.
    ...    Expected - user logged in and redirected to index page.
    Log In    ${test user 1 name}    ${test user 1 pwd}

Navigate To Favourites Page
    [Documentation]    Navigate to Favourites page by clicking on main menu item "Resources", and by selecting "Favourites" from "My Pages" dropdown.
    Click Main Menu Item    Resources
    Wait Until Page Contains    My favorites
    Wait Until Page Contains Element    //a[@class="active" and text()="My favorites"]
    Go To    ${index page url}
    Click Main Menu Item    My pages
    Wait Until Page Contains Link With Text    See All
    Click Link Which Contains    See All
    Wait Until Page Contains    My favorites
    Wait Until Page Contains Element    //a[@class="active" and text()="My favorites"]

Go To Resources And Favorites Page
    Go To    ${resources and favorites page url}

Check If All Webparts Are Loaded
    [Documentation]    Check If My favorites page parts are loaded corectly.
    Check Favorites Page Sidebar
    Wait Until Page Contains Span With Text    My applications and sites
    Check Library Content Pagination    My applications and sites
    Wait Until Page Contains Element    //span[text()="My saved documents"]/following-sibling::div[@class="library-content"]//div[@class="item"]
    Wait Until Page Contains Span With Text    My saved documents
    Check Library Content Pagination    My saved documents
    Wait Until Page Contains Element    //span[text()="My saved documents"]/following-sibling::div[@class="library-content"]//div[@class="item"]
    Filter Documents
    Wait Until Page Contains Element    //h3[text()="My pages"]
    Wait Until Page Contains Element    //div[@class="quick-links my-pages"]//a

Navigate To Recommended Page
    [Documentation]    Click "Recommended" link in left navigation and check if contents are loaded properly.
    Click Sidebar Nav Link    Recommended
    Wait Until Page Contains    Recommended for you
    Check Favorites Page Sidebar
    Wait Until Page Contains Span With Text    Recommended applications and sites
    Check Library Content Pagination    Recommended applications and sites
    Wait Until Page Contains Element    //span[text()="Recommended applications and sites"]/following-sibling::div[@class="library-content"]//div[@class="item"]
    Wait Until Page Contains Span With Text    Recommended documents
    Check Library Content Pagination    Recommended documents
    Wait Until Page Contains Element    //span[text()="Recommended documents"]/following-sibling::div[@class="library-content"]//div[@class="item"]
    Filter Documents
    Wait Until Page Contains Element    //h3[text()="My pages"]
    Wait Until Page Contains Element    //div[@class="quick-links my-pages"]//a

Check Applications And Sites Page
    Check Favorites And Reccomendations Page    Applications & sites

Check Guidelines And Toolkits Page
    Check Favorites And Reccomendations Page    Guidelines & toolkits

Check Policies And Procedures Page
    Check Favorites And Reccomendations Page    Policies & procedures

Check Reports And Case Studies Page
    Check Favorites And Reccomendations Page    Reports & case studies

Check Templates Page
    Check Favorites And Reccomendations Page    Templates

Check Training Page
    Check Favorites And Reccomendations Page    Training
